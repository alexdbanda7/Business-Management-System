{% extends "base.html" %}

{% block title %}Add Income{% endblock %}

{% block content %}
<h1>Add Income</h1>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
{% endwith %}

<form method="post" action="{{ url_for('add_income') }}">
    <label for="description">Description:</label>
    <input type="text" name="description" id="description" required>

    <label for="amount">Amount (MWK):</label>
    <input type="number" step="0.01" name="amount" id="amount" required>

    <label for="category">Category:</label>
    <select name="category_id" id="category" required>
        {% for category in categories %}
            <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
    </select>
    
    <button type="submit">Add Income</button>
</form>
{% endblock %}